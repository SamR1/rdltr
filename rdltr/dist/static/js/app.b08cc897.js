(function(t){function e(e){for(var r,n,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},i=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/static/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0562":function(t,e,a){},"093d":function(t,e,a){"use strict";var r=a("158b"),s=a.n(r);s.a},"0e5b":function(t,e,a){"use strict";var r=a("97a4"),s=a.n(r);s.a},"158b":function(t,e,a){},"182b":function(t,e,a){},1905:function(t,e,a){"use strict";var r=a("9419"),s=a.n(r);s.a},"249a":function(t,e,a){},"29cb":function(t,e,a){},"353b":function(t,e,a){},"452c":function(t,e,a){},"45ef":function(t,e,a){"use strict";var r=a("9ebb"),s=a.n(r);s.a},"47c2":function(t,e,a){"use strict";var r=a("249a"),s=a.n(r);s.a},"4cd0":function(t,e,a){},"53c3":function(t,e,a){},"54a7":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-header"),a("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{attrs:{id:"header"}},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:"/"}},[t._v(" rdltr "),a("small",[t._v('a simple "read-it later" app')])])],1),a("nav",{staticClass:"nav",attrs:{id:"responsive-navbar"},on:{click:t.displayMenu}},[a("ul",[t.auth?t._e():a("li",{staticClass:"menu"},[a("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1),t.auth?t._e():a("li",{staticClass:"menu"},[a("router-link",{attrs:{to:"/login"}},[t._v("Log in")])],1),t.auth?a("li",{staticClass:"user menu"},[a("router-link",{attrs:{to:"/profile"}},[t._v(t._s(t.username))])],1):t._e(),t.auth?a("li",{staticClass:"menu"},[a("router-link",{attrs:{to:"/settings"}},[t._v("Settings")])],1):t._e(),t.auth?a("li",{staticClass:"menu"},[a("span",{staticClass:"logout",on:{click:t.onLogout}},[t._v("Logout")])]):t._e(),t.auth?a("li",{staticClass:"menu"},[a("router-link",{attrs:{to:"/articles/add"}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true",title:"add a new article"}})])],1):t._e()])]),a("div",{attrs:{id:"nav-icon"},on:{click:t.displayMenu}},[a("i",{staticClass:"fa fa-bars"})])])},o=[],c={computed:{auth:function(){return this.$store.getters.isAuthenticated},username:function(){return this.$store.getters.user.username}},methods:{displayMenu:function(){var t=document.getElementById("responsive-navbar");"nav"===t.className?t.className+=" responsive":t.className="nav"},onLogout:function(){this.$store.dispatch("logout")}}},l=c,u=(a("c521"),a("2877")),d=Object(u["a"])(l,n,o,!1,null,"2f9be54b",null),p=d.exports,m={name:"app",components:{"app-header":p}},g=m,f=(a("60bc"),a("b0a0"),Object(u["a"])(g,s,i,!1,null,null,null)),h=f.exports,v=(a("caad"),a("8c4f")),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contnr",attrs:{id:"add-article"}},[a("div",{staticClass:"rdltr-box"},[a("div",{staticClass:"title"},[t._v("Add an article")]),a("hr"),t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit()}}},[a("div",{staticClass:"input"},[a("label",{attrs:{for:"link"}},[t._v("Link")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],attrs:{id:"link",required:""},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}})]),a("app-category-select",{attrs:{"display-label":"true"}}),a("app-tag-multi-select",{attrs:{"display-label":!0}}),a("div",{staticClass:"submit add-article-submit"},[a("button",{attrs:{type:"submit",disabled:t.loading}},[t._v("Submit")])])],1),t.loading?a("div",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"})]):t._e()])])},b=[],_=(a("9911"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"category-select"}},["true"===t.displayLabel?a("label",[t._v(" Category ")]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control",attrs:{id:"categories"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?a:a[0]},t.filterArticles]}},[t.displayLabel?t._e():a("option",{attrs:{value:""}},[t._v("All categories")]),t._l(t.userCategories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2)])}),C=[],w=(a("4de4"),a("fb6a"),a("2532"),function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Error. Please try again or contact the administrator.";return t("setErrorMessage",e.response?e.response.data.message?e.response.data.message:a:e.message?e.message:a)}),$=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},T=function(t,e){var a=t;return e.includes("singular")&&(a="categories"===t?"category":"tag"),e.includes("capitalize")&&(a=$(a)),a},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.page||0!==e?{name:"articlesPage",params:{page:t.pagination.page+e}}:{name:"home"},r={};return t.selectedCategory&&(r.cat_id=t.selectedCategory),t.query&&(r.q=t.query),t.onlyFavorites&&(r.only_favorites=t.onlyFavorites),t.onlyNotRead&&(r.not_read=t.onlyNotRead),!t.selectedTags||t.query||t.onlyNotRead||(r.tag_id=t.selectedTags),a.query=r,a},A=function(){return"/api"},P={props:["displayLabel","filter"],computed:{selectedCategory:{get:function(){return this.$store.getters.selectedCategory},set:function(t){return this.$store.dispatch("updateSelectedCategory",t)}},pagination:function(){return this.$store.getters.pagination},userCategories:function(){return this.$store.getters.userCategories}},beforeDestroy:function(){return this.$store.dispatch("updateSelectedCategory","")},methods:{filterArticles:function(){if(this.filter)return this.$store.commit("setTags",[]),this.$router.push(k(this.$store.getters))}}},M=P,x=(a("dd10"),Object(u["a"])(M,_,C,!1,null,"4ab73997",null)),E=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-input"},[t.displayLabel?a("label",[t._v("Tags")]):t._e(),a("app-multiselect",{attrs:{placeholder:"Search or add a tag",multiple:!0,options:t.userTags,taggable:!0},on:{tag:t.addTag},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1)},N=[],O=(a("d81d"),a("b0c0"),a("8e5f")),D=a.n(O),j={components:{AppMultiselect:D.a},props:["displayLabel"],computed:{selectedTags:{get:function(){return this.$store.getters.selectedTags},set:function(t){return this.$store.dispatch("updateSelectedTags",t)}},userTags:function(){return this.$store.getters.userTags?this.$store.getters.userTags.map((function(t){return t.name})):[]}},beforeDestroy:function(){return this.$store.dispatch("updateSelectedTags",[])},methods:{addTag:function(t){this.selectedTags.push(t)}}},R=j,U=(a("c764"),Object(u["a"])(R,S,N,!1,null,"737dbd82",null)),q=U.exports,L={components:{AppCategorySelect:E,AppTagMultiSelect:q},data:function(){return{link:""}},computed:{errorMessage:function(){return this.$store.getters.errorMessage},loading:function(){return this.$store.getters.loading},selectedCategory:function(){return this.$store.getters.selectedCategory},selectedTags:function(){return this.$store.getters.selectedTags}},beforeDestroy:function(){this.$store.commit("setErrorMessage",null)},mounted:function(){this.$store.commit("setTags",[])},methods:{onSubmit:function(){var t={url:this.link,category_id:this.selectedCategory,tags:this.selectedTags};return this.$store.dispatch("addArticle",t)}}},F=L,B=(a("c063"),Object(u["a"])(F,y,b,!1,null,"657b1ea2",null)),K=B.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"article-detail"}},[t.showModal?a("conf-modal",{attrs:{onDeleteArticle:t.onDeleteArticle},on:{close:function(e){t.showModal=!1}}}):t._e(),a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Back ")]),t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t.article.title?a("div",[t.onCategoryEdition?a("div",{attrs:{id:"category-update"}},[a("app-category-select",{attrs:{displayLabel:"false"}}),a("div",{staticClass:"submit"},[a("button",{staticClass:"btn-rdltr",attrs:{type:"submit",disabled:""===t.selectedCategory},on:{click:t.onUpdateCategory}},[t._v(" Update ")]),a("button",{staticClass:"btn-rdltr",on:{click:function(e){t.onCategoryEdition=!t.onCategoryEdition}}},[t._v(" Cancel ")])])],1):a("div",[t.article.category?a("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/?cat_id="+t.article.category.id}},[a("app-badge",{attrs:{name:t.article.category.name}})],1):t._e(),a("i",{staticClass:"fa fa-pencil link",attrs:{"aria-hidden":"true",title:"edit category"},on:{click:t.updateSelectedCategory}}),a("i",{class:"fa fa-eye"+(t.article.read?"-slash":""),attrs:{"aria-hidden":"true",title:"mark as "+(t.article.read?"not ":"")+"read"},on:{click:t.updateReadStatus}}),a("i",{class:"fa fa-star"+(t.article.favorite?"":"-o"),attrs:{"aria-hidden":"true",title:(t.article.favorite?"un":"")+" favorite article"},on:{click:t.updateFavorite}}),a("i",{class:"fa fa-refresh"+(t.loading?" fa-spin":""),attrs:{"aria-hidden":"true",title:"reload article"},on:{click:t.onReloadArticle}}),a("i",{class:"fa fa-trash"+(t.loading?" fa-disabled":""),attrs:{"aria-hidden":"true",title:"delete article"},on:{click:function(e){t.showModal=!0}}})],1),a("h1",[t._v(t._s(t.article.title))]),t.onTagEdition?a("div",{attrs:{id:"tag-update"}},[a("app-tag-multi-select"),a("div",{staticClass:"submit"},[a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:t.onUpdateTags}},[t._v(" Update ")]),a("button",{staticClass:"btn-rdltr",on:{click:function(e){t.onTagEdition=!t.onTagEdition}}},[t._v(" Cancel ")])])],1):a("div",[t._l(t.article.tags,(function(t){return a("app-badge",{key:t.id,attrs:{"display-label":!1,tag_id:t.id,"is-tag":!0,name:t.name}})})),a("span",{directives:[{name:"show",rawName:"v-show",value:t.article.tags&&0===t.article.tags.length,expression:"article.tags && article.tags.length === 0"}],staticClass:"no-tags"},[t._v(" no tags ")]),a("i",{staticClass:"fa fa-pencil link",attrs:{"aria-hidden":"true",title:"edit tags"},on:{click:t.updateSelectedTags}})],2),a("p",{staticClass:"article-link"},[t._v(" Link: "),a("a",{attrs:{href:t.article.url,target:"_blank ",rel:"noopener noreferrer"}},[t._v(" "+t._s(t.article.url)+" ")])]),t.article.html_content?a("app-article-content",{attrs:{"article-content":t.article.html_content}}):t._e(),a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(" Back ")]),a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateReadStatus(e)}}},[t._v(" "+t._s("Mark as "+(t.article.read?"not ":"")+"read")+" ")]),a("hr"),t.article?a("app-article-comments",{attrs:{"article-comments":t.article.comments}}):t._e()],1):t._e()],1)},z=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-content",attrs:{id:"article-content"}})},J=[],H={props:["articleContent"],methods:{displayContent:function(){var t=document.getElementById("article-content");t.innerHTML=this.articleContent}},mounted:function(){this.displayContent()},watch:{articleContent:function(){this.displayContent()}}},G=H,V=(a("0e5b"),Object(u["a"])(G,I,J,!1,null,"20a70f12",null)),W=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",[a("div",{staticClass:"input"},[a("label",{attrs:{for:"description"}},[t._v("Comments")]),t.onCommentsEdition?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comments,expression:"comments"}],attrs:{id:"description",disabled:!t.onCommentsEdition},domProps:{value:t.comments},on:{input:function(e){e.target.composing||(t.comments=e.target.value)}}}):a("p",{attrs:{id:"comments"}},[t._v(t._s(t.comments?t.comments:"No comments yet"))])]),t.onCommentsEdition?a("div",{staticClass:"submit"},[a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.onSubmit()}}},[t._v(" Submit ")]),a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onCommentsEdition=!t.onCommentsEdition}}},[t._v(" Cancel ")])]):a("div",[a("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onCommentsEdition=!t.onCommentsEdition}}},[t._v(" Edit comments ")])])])},Y=[],Z={props:["articleComments"],data:function(){return{comments:"",onCommentsEdition:!1}},beforeMount:function(){this.comments=this.articleComments},methods:{onSubmit:function(){var t=this;this.$store.dispatch("updateArticle",{id:this.$route.params.id,formData:{comments:this.comments}}).then((function(){t.onCommentsEdition=!1}))}}},tt=Z,et=(a("47c2"),Object(u["a"])(tt,X,Y,!1,null,"ae4d1bd6",null)),at=et.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-body"},[a("p",[t._v(" Are you sure you want to delete "+t._s(t.title?" the article '"+t.title+"'":" this article")+"? ")]),a("button",{staticClass:"btn-rdltr",on:{click:t.onDeleteArticle}},[t._v(" OK ")]),a("button",{staticClass:"btn-rdltr",on:{click:function(e){return t.$emit("close")}}},[t._v(" Cancel ")])])])])])},st=[],it={name:"modal.vue",props:["onDeleteArticle","title"]},nt=it,ot=(a("979b"),Object(u["a"])(nt,rt,st,!1,null,"51b78b73",null)),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:"badge badge-rdltr"+(t.isTag?"-tag":"")},[t.isTag?a("router-link",{attrs:{to:"/?tag_id="+t.tag_id}},[t._v(" "+t._s(t.name)+" ")]):a("span",[t._v(" "+t._s(t.name)+" ")])],1)},ut=[],dt={props:["name","isTag","tag_id"]},pt=dt,mt=(a("8337"),Object(u["a"])(pt,lt,ut,!1,null,"089526d7",null)),gt=mt.exports,ft={components:{AppBadge:gt,AppCategorySelect:E,AppArticleComments:at,AppArticleContent:W,AppTagMultiSelect:q,ConfModal:ct},data:function(){return{onCategoryEdition:!1,onTagEdition:!1,showModal:!1}},computed:{article:{get:function(){return this.$store.getters.article}},errorMessage:{get:function(){return this.$store.getters.errorMessage}},loading:{get:function(){return this.$store.getters.loading}},selectedCategory:{get:function(){return this.$store.getters.selectedCategory}},selectedTags:{get:function(){return this.$store.getters.selectedTags}}},created:function(){if(this.$store.getters.isAuthenticated)return this.$store.dispatch("getArticle",this.$route.params.id)},beforeDestroy:function(){this.$store.commit("getUserArticle",{}),this.$store.commit("setErrorMessage",null)},methods:{onDeleteArticle:function(){var t=this;this.loading||this.$store.dispatch("deleteArticle",this.article.id).then((function(){return t.$router.push("/")}))},onReloadArticle:function(){var t={id:this.article.id,formData:{reload:!0}};return this.$store.dispatch("reloadArticle",t)},onUpdateCategory:function(){var t=this;this.$store.dispatch("updateArticle",{id:this.$route.params.id,formData:{category_id:this.selectedCategory}}).then((function(){t.onCategoryEdition=!1}))},onUpdateTags:function(){var t=this;this.$store.dispatch("updateArticle",{id:this.$route.params.id,formData:{tags:this.selectedTags}}).then((function(){t.onTagEdition=!1}))},updateFavorite:function(){var t={id:this.article.id,formData:{update_favorite:!this.article.favorite}};return this.$store.dispatch("updateArticle",t)},updateReadStatus:function(){var t={id:this.article.id,formData:{update_read_status:!this.article.read}};return this.$store.dispatch("updateArticle",t)},updateSelectedCategory:function(){var t=this;return this.$store.dispatch("updateSelectedCategory",this.article.category.id).then((function(){return t.onCategoryEdition=!t.onCategoryEdition}))},updateSelectedTags:function(){var t=this,e=this.article.tags.map((function(t){return t.name}));return this.$store.dispatch("updateSelectedTags",e).then((function(){return t.onTagEdition=!t.onTagEdition}))}}},ht=ft,vt=(a("1905"),Object(u["a"])(ht,Q,z,!1,null,"90c3eabc",null)),yt=vt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"home"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row",attrs:{id:"user-categories"}},[a("div",{staticClass:"col-md-3"},[a("app-category-select",{attrs:{filter:"true"}})],1),a("div",{staticClass:"col search"},[a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{placeholder:"enter keywords"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.onSearch]}})])]),a("div",{staticClass:"col-md-2 form-check read-status"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyNotRead,expression:"onlyNotRead"}],staticClass:"form-check-input",attrs:{id:"readStatus",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyNotRead)?t._i(t.onlyNotRead,null)>-1:t.onlyNotRead},on:{change:[function(e){var a=t.onlyNotRead,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);r.checked?n<0&&(t.onlyNotRead=a.concat([i])):n>-1&&(t.onlyNotRead=a.slice(0,n).concat(a.slice(n+1)))}else t.onlyNotRead=s},t.onSearch]}}),a("label",{staticClass:"form-check-label",attrs:{for:"readStatus"}},[t._v(" only not read ")])]),a("div",{staticClass:"col-md-2 form-check favorite"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyFavorites,expression:"onlyFavorites"}],staticClass:"form-check-input",attrs:{id:"favorites",type:"checkbox"},domProps:{checked:Array.isArray(t.onlyFavorites)?t._i(t.onlyFavorites,null)>-1:t.onlyFavorites},on:{change:[function(e){var a=t.onlyFavorites,r=e.target,s=!!r.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);r.checked?n<0&&(t.onlyFavorites=a.concat([i])):n>-1&&(t.onlyFavorites=a.slice(0,n).concat(a.slice(n+1)))}else t.onlyFavorites=s},t.onSearch]}}),a("label",{staticClass:"form-check-label",attrs:{for:"favorites"}},[t._v(" only favorites ")])])])])]),a("hr"),a("div",{staticClass:"row"},[a("app-articles")],1)])},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("Search")])])}],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"user-articles"}},[t.errorMessage?t._e():a("div",[t.pagination.total>0?a("div",{staticClass:"row articles-msg"},[t._v(" "+t._s(t.pagination.total)+" "+t._s("article"+(1!==t.pagination.total?"s":""))+" ")]):t._e(),a("div",{staticClass:"row"},[0===t.articles.length?a("p",{staticClass:"text-center articles-msg"},[t._v(" No articles. Add "),a("router-link",{attrs:{to:"/articles/add"}},[t._v("one")]),t._v(" ! ")],1):t._e(),t._l(t.articles,(function(t){return a("app-article-card",{key:t.id,attrs:{article:t}})}))],2)]),a("app-pagination")],1)},wt=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-6 col-md-4 col-lg-3"},[t.showModal?a("conf-modal",{attrs:{title:t.article.title,onDeleteArticle:t.onDeleteArticle},on:{close:function(e){t.showModal=!1}}}):t._e(),a("div",{staticClass:"card",class:"status"+(t.article.read?"-read":"")},[a("div",{staticClass:"card-body"},[a("button",{staticClass:"close",attrs:{"aria-label":"Close",title:"delete article",type:"button"},on:{click:function(e){t.showModal=!0}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),a("app-badge",{attrs:{name:t.article.category.name}}),a("h5",{staticClass:"card-title"},[t._v(" "+t._s(t.article.title)+" "),t.article.favorite?a("i",{staticClass:"fa fa-star"}):t._e()]),t._l(t.article.tags,(function(t){return a("app-badge",{key:t.id,attrs:{tag_id:t.id,"is-tag":!0,name:t.name}})})),a("p",{staticClass:"card-text"})],2),a("div",{staticClass:"card-footer"},[a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:{name:"articleDetail",params:{id:t.article.id}}}},[t._v(" Read ")])],1)])],1)},Tt=[],kt={components:{AppBadge:gt,ConfModal:ct},props:["article"],data:function(){return{showModal:!1}},methods:{onDeleteArticle:function(){return this.$store.dispatch("deleteArticle",this.article.id)}}},At=kt,Pt=(a("7854"),Object(u["a"])(At,$t,Tt,!1,null,"5442e413",null)),Mt=Pt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",attrs:{id:"pagination"}},[a("div",{staticClass:"col-1 text-center"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.pagination.has_prev,expression:"pagination.has_prev"}],staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return t.getTargetLink(-1)}}},[a("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})])]),t.pagination.pages>0?a("div",{staticClass:"col-10 text-center page"},[t._v(" page "+t._s(t.pagination.page)+" / "+t._s(t.pagination.pages)+" ")]):t._e(),a("div",{staticClass:"col-1 text-center"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.pagination.has_next,expression:"pagination.has_next"}],staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){return t.getTargetLink(1)}}},[a("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])])])},Et=[],St={computed:{pagination:function(){return this.$store.getters.pagination}},methods:{getTargetLink:function(t){this.$router.push(k(this.$store.getters,t))}}},Nt=St,Ot=(a("c371"),Object(u["a"])(Nt,xt,Et,!1,null,"00d67b0b",null)),Dt=Ot.exports,jt={components:{AppArticleCard:Mt,AppPagination:Dt},computed:{articles:function(){return this.$store.getters.articles},errorMessage:function(){return this.$store.getters.errorMessage},pagination:function(){return this.$store.getters.pagination}},watch:{$route:function(t){this.$store.dispatch("getArticles",Object.assign({},t.params,t.query))}},created:function(){if(this.$store.getters.isAuthenticated)return this.$store.dispatch("getArticles",Object.assign({},this.$route.params,this.$route.query))}},Rt=jt,Ut=(a("8958"),Object(u["a"])(Rt,Ct,wt,!1,null,"b0a9179a",null)),qt=Ut.exports,Lt={components:{AppArticles:qt,AppCategorySelect:E},computed:{onlyFavorites:{get:function(){return this.$store.getters.onlyFavorites},set:function(t){this.$store.commit("setOnlyFavorites",t)}},onlyNotRead:{get:function(){return this.$store.getters.onlyNotRead},set:function(t){this.$store.commit("setOnlyNotRead",t)}},query:{get:function(){return this.$store.getters.query},set:function(t){this.$store.commit("updateQuery",t)}}},methods:{onSearch:function(){this.$router.push(k(this.$store.getters))}}},Ft=Lt,Bt=(a("093d"),Object(u["a"])(Ft,bt,_t,!1,null,"bbd90178",null)),Kt=Bt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contnr"},[a("div",{staticClass:"rdltr-box"},[t.errorMessage&&!t.item.id?a("div",[t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:"/settings/"+t.itemType}},[t._v(" Back to "+t._s(t.itemType)+" ")])],1):a("div",[t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),a("form",[a("div",{staticClass:"input"},[a("label",{attrs:{for:"name"}},[t._v(t._s(("categories"===t.itemType?"Category":"Tag")+" name"))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],attrs:{id:"name",required:""},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}})]),"categories"===t.itemType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.description,expression:"item.description"}],attrs:{id:"description"},domProps:{value:t.item.description},on:{input:function(e){e.target.composing||t.$set(t.item,"description",e.target.value)}}})]):t._e(),a("div",{staticClass:"submit"},[a("button",{staticClass:"btn-rdltr",attrs:{disabled:""===t.item.name,type:"submit"},on:{click:function(e){return e.preventDefault(),t.onSubmit()}}},[t._v(" Submit ")]),a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:"/settings/"+t.itemType}},[t._v(" Cancel ")])],1)])])])])},zt=[],It={props:["itemType"],data:function(){return{item:{id:null,name:"",description:""}}},computed:{errorMessage:function(){return this.$store.getters.errorMessage},items:function(){return"categories"===this.itemType?this.$store.getters.userCategories:this.$store.getters.userTags}},watch:{items:function(t){var e=this;if(this.$route.params.id&&t){var a=t.filter((function(t){return t.id===+e.$route.params.id}));a.length>0?this.item=a[0]:this.$store.commit("setErrorMessage","".concat(T(this.itemType,["singular"])," not found!"))}}},beforeDestroy:function(){this.$store.commit("setErrorMessage",null)},methods:{onSubmit:function(){return this.$route.params.id?this.$store.dispatch("update".concat(T(this.itemType,["capitalize","singular"])),this.item):this.$store.dispatch("add".concat(T(this.itemType,["capitalize","singular"])),this.item)}}},Jt=It,Ht=Object(u["a"])(Jt,Qt,zt,!1,null,"64f36d5e",null),Gt=Ht.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container container-shadow"},[a("div",{staticClass:"row"},[a("router-link",{staticClass:"btn-rdltr",attrs:{to:"/settings",tag:"button"}},[t._v(" Back to settings ")]),a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:{name:"add"+("categories"===t.itemType?"Category":"Tag")}}},[t._v(" Add a "+t._s("categories"===t.itemType?"category":"tag")+" ")])],1),t.errorMessage?a("div",{staticClass:"row"},[a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")])]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]),t.items?a("div",{staticClass:"row items-row"},[a("app-items-tables",{attrs:{data:t.items,columns:t.itemsColumns,"filter-key":t.searchQuery,"item-type":t.itemType}})],1):t._e()])},Wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:""}},[t._v("Search")])])}],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[t._l(t.columns,(function(e){return a("th",{key:e,class:{active:t.sortKey===e},attrs:{scope:"col"},on:{click:function(a){return t.sortBy(e)}}},[t._v(" "+t._s(t._f("capitalize")(e))+" "),a("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])})),a("th",{attrs:{scope:"col"}},[t._v("Actions")])],2)]),a("tbody",t._l(t.filteredData,(function(e){return a("tr",{key:e.id},[t._l(t.columns,(function(r){return a("td",{key:r},["name"===r?a("router-link",{attrs:{to:"/?"+("categories"===t.itemType?"cat":"tag")+"_id="+e.id}},[t._v(" "+t._s(e[r])+" ")]):a("span",[t._v(" "+t._s(e[r])+" ")]),"name"===r&&e.is_default?a("span",{staticClass:"badge badge-rdltr-small"},[t._v(" default ")]):t._e()],1)})),a("td",[a("router-link",{staticClass:"link",attrs:{to:{name:"edit"+t.target,params:{id:e.id}}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),e.is_default?t._e():a("i",{staticClass:"fa fa-trash link",attrs:{"aria-hidden":"true"},on:{click:function(a){return t.deleteItem(e.id)}}})],1)],2)})),0)])])},Yt=[],Zt=(a("c975"),a("4e82"),a("b64b"),a("159b"),{props:{data:Array,columns:Array,filterKey:String,itemType:String},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},data:function(){var t={};return this.columns.forEach((function(e){t[e]=1})),{sortKey:"",sortOrders:t,target:T(this.itemType,["singular","capitalize"])}},computed:{filteredData:function(){var t=this.sortKey?this.sortKey:"id",e=this.filterKey&&this.filterKey.toLowerCase(),a=this.sortOrders[t]||1,r=this.data;return e&&(r=r.filter((function(t){return Object.keys(t).some((function(a){return String(t[a]).toLowerCase().indexOf(e)>-1}))}))),t&&(r=r.slice().sort((function(e,r){return e=e[t],r=r[t],(e===r?0:e>r?1:-1)*a}))),r}},methods:{deleteItem:function(t){return this.$store.dispatch("delete".concat(this.target),t)},sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]}}}),te=Zt,ee=(a("6770"),Object(u["a"])(te,Xt,Yt,!1,null,"49a8fe5f",null)),ae=ee.exports,re={components:{AppItemsTables:ae},props:["itemType"],data:function(){return{displayAdd:!1,searchQuery:""}},computed:{errorMessage:function(){return this.$store.getters.errorMessage},itemsColumns:function(){return"categories"===this.itemType?["id","name","description"]:["id","name"]},items:function(){return"categories"===this.itemType?this.$store.getters.userCategories:this.$store.getters.userTags}},beforeDestroy:function(){this.$store.commit("setErrorMessage",null)}},se=re,ie=(a("db9b"),Object(u["a"])(se,Vt,Wt,!1,null,"3e687466",null)),ne=ie.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("div",{staticClass:"test"},[a("p",[t._v("Page not found!")]),a("br"),a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:"/"}},[t._v(" Back to home ")])],1)])},ce=[],le=(a("61be"),{}),ue=Object(u["a"])(le,oe,ce,!1,null,"3cd44498",null),de=ue.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contnr",attrs:{id:"actionType"}},[a("div",{staticClass:"rdltr-box"},[a("router-link",{staticClass:"btn-rdltr btn-rdltr-auto",attrs:{tag:"button",to:"/settings/categories"}},[t._v(" Categories ")]),a("router-link",{staticClass:"btn-rdltr btn-rdltr-auto",attrs:{tag:"button",to:"/settings/tags"}},[t._v(" Tags ")]),a("hr"),a("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:"/"}},[t._v(" Back to home ")])],1)])},me=[],ge={},fe=ge,he=(a("9650"),Object(u["a"])(fe,pe,me,!1,null,"ba234620",null)),ve=he.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contnr",attrs:{id:"actionType"}},[a("div",{staticClass:"rdltr-box"},[a("form",[a("div",{staticClass:"input"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{id:"username",disabled:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),a("div",{staticClass:"input"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{id:"email",disabled:"",type:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"input"},[a("label",{attrs:{for:"creationDate"}},[t._v("Inscription date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.created_at,expression:"user.created_at"}],attrs:{id:"creationDate",disabled:""},domProps:{value:t.user.created_at},on:{input:function(e){e.target.composing||t.$set(t.user,"created_at",e.target.value)}}})]),"editProfile"===t.actionType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"oldPassword"}},[t._v("Old password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{id:"oldPassword",required:"",type:"password"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})]):t._e(),"editProfile"===t.actionType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"password"}},[t._v("New password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{id:"password",required:"",type:"password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]):t._e(),"editProfile"===t.actionType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"confirm-password"}},[t._v("Confirm New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],attrs:{id:"confirm-password",required:"",type:"password"},domProps:{value:t.confirmNewPassword},on:{input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}})]):t._e(),"editProfile"===t.actionType?a("div",{staticClass:"submit"},[a("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.onSubmit()}}},[t._v("Submit")]),a("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.onCancel()}}},[t._v("Cancel")])]):a("div",{staticClass:"submit"},[a("router-link",{attrs:{tag:"button",to:"/profile/edit"}},[t._v(" Change password ")])],1)]),t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()])])},be=[],_e={props:["actionType"],data:function(){return{oldPassword:"",newPassword:"",confirmNewPassword:""}},computed:{errorMessage:function(){return this.$store.getters.errorMessage},user:function(){return this.$store.getters.user}},methods:{onCancel:function(){var t=this;this.$store.dispatch("updateErrorMessage",null).then((function(){return t.oldPassword="",t.newPassword="",t.confirmNewPassword="",t.$router.push("/profile")}))},onSubmit:function(){var t=this,e={old_password:this.oldPassword,new_password:this.newPassword,new_password_conf:this.confirmNewPassword};this.$store.dispatch("updateProfile",e).then((function(){t.oldPassword="",t.newPassword="",t.confirmNewPassword=""}))}},beforeDestroy:function(){this.$store.commit("setErrorMessage",null)}},Ce=_e,we=(a("45ef"),Object(u["a"])(Ce,ye,be,!1,null,"ee91f3ea",null)),$e=we.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contnr",attrs:{id:"actionType"}},[a("div",{staticClass:"rdltr-box"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.actionType)}}},["register"===t.actionType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]):t._e(),a("div",{staticClass:"input"},[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",required:"",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"input"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",required:"",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),"register"===t.actionType?a("div",{staticClass:"input"},[a("label",{attrs:{for:"confirm-password"}},[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{id:"confirm-password",type:"password",required:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]):t._e(),t.errorMessage?a("p",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),t._m(0)])])])},ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"submit"},[a("button",{attrs:{type:"submit"}},[t._v("Submit")])])}],Ae={props:["actionType"],data:function(){return{confirmPassword:"",email:"",password:"",username:""}},computed:{errorMessage:function(){return this.$store.getters.errorMessage}},watch:{$route:function(){this.$store.commit("setErrorMessage",null)}},beforeDestroy:function(){this.$store.commit("setErrorMessage",null)},methods:{onSubmit:function(t){var e={email:this.email,password:this.password};return"register"===t&&(e.username=this.username,e.password_conf=this.confirmPassword),this.$store.dispatch("loginOrRegister",{actionType:t,formData:e})}}},Pe=Ae,Me=Object(u["a"])(Pe,Te,ke,!1,null,"4e74f4c0",null),xe=Me.exports,Ee=a("2f62"),Se=(a("99af"),a("5319"),a("d3b7"),a("bc3a")),Ne=a.n(Se),Oe=Ne.a.create({baseURL:A()});Oe.interceptors.request.use((function(t){if(ra.state.user.authToken){var e="Bearer ".concat(ra.state.user.authToken);t.headers.Authorization!==e&&(t.headers.Authorization="Bearer ".concat(ra.state.user.authToken))}return t}),(function(t){return Promise.reject(t)}));var De=Oe,je={article:{},articles:[],pagination:{},query:""},Re={article:function(t){return t.article},articles:function(t){return t.articles},pagination:function(t){return t.pagination},query:function(t){return t.query}},Ue={getUserArticle:function(t,e){t.article=e},getUserArticles:function(t,e){t.articles=e.data,t.pagination=e.pagination},updateQuery:function(t,e){t.query=e},clearArticles:function(t){t.article={},t.articles=[],t.pagination={}}},qe={addArticle:function(t,e){var a=t.commit,r=t.dispatch;r("updateLoading",!0),De.post("articles",e).then((function(t){"success"===t.data.status&&(r("updateLoading",!1),na.push("/articles/".concat(t.data.data[0].id)))})).catch((function(t){return w(a,t,"error on adding article")}))},deleteArticle:function(t,e){var a=t.commit,r=t.dispatch,s=t.state;De.delete("articles/".concat(e)).then((function(t){204===t.status&&r("getArticles",{page:s.pagination.page})})).catch((function(t){return w(a,t,"error on article deletion")}))},getArticle:function(t,e){var a=t.commit;De.get("articles/".concat(e)).then((function(t){"success"===t.data.status&&a("getUserArticle",t.data.data[0])})).catch((function(t){return w(a,t,"error on fetching article")}))},getArticles:function(t,e){var a=t.commit,r=t.dispatch,s="articles";Object.keys(e).length>0&&(s+="?",Object.keys(e).map((function(t){s+="&".concat(t,"=").concat(e[t])}))),r("updateSelectedCategory","cat_id"in e?+e["cat_id"]:""),r("updateReadStatus","not_read"in e&&e["not_read"]),r("updateSelectedTags","tag_id"in e?+e["tag_id"]:[]),"q"in e||a("updateQuery",""),De.get(s).then((function(t){if("success"===t.data.status){if(t.data.pagination.pages>0&&t.data.pagination.page>t.data.pagination.pages)return na.replace("/articles/page/".concat(t.data.pagination.pages));a("getUserArticles",t.data)}})).catch((function(t){return w(a,t,"error on fetching articles")}))},reloadArticle:function(t,e){var a=t.commit,r=t.dispatch;r("updateLoading",!0),De.patch("articles/".concat(e.id),e.formData).then((function(t){"success"===t.data.status&&(a("getUserArticle",t.data.data[0]),r("updateLoading",!1))})).catch((function(t){return w(a,t,"error on article reload")}))},updateArticle:function(t,e){var a=t.commit;De.patch("articles/".concat(e.id),e.formData).then((function(t){"success"===t.data.status&&a("getUserArticle",t.data.data[0])})).catch((function(t){return w(a,t,"error on article update")}))}},Le={state:je,getters:Re,mutations:Ue,actions:qe},Fe={categories:[]},Be={},Ke={},Qe={addCategory:function(t,e){var a=t.commit;De.post("categories",e).then((function(){na.push("/settings/categories")})).catch((function(t){return w(a,t,"error on category creation")}))},updateCategory:function(t,e){var a=t.commit;De.patch("categories/".concat(e.id),e).then((function(){na.push("/settings/categories")})).catch((function(t){return w(a,t,"error on category update")}))},deleteCategory:function(t,e){var a=t.commit,r=t.dispatch;De.delete("categories/".concat(e)).then((function(t){204===t.status&&r("getUserProfile")})).catch((function(t){return w(a,t,"error on category deletion")}))}},ze={state:Fe,getters:Be,mutations:Ke,actions:Qe},Ie={tags:[]},Je={},He={},Ge={addTag:function(t,e){var a=t.commit;De.post("tags",e).then((function(){na.push("/settings/tags")})).catch((function(t){return w(a,t,"error on tag creation")}))},updateTag:function(t,e){var a=t.commit;De.patch("tags/".concat(e.id),e).then((function(){na.push("/settings/tags")})).catch((function(t){return w(a,t,"error on tag update")}))},deleteTag:function(t,e){var a=t.commit,r=t.dispatch;De.delete("tags/".concat(e)).then((function(t){204===t.status&&r("getUserProfile")})).catch((function(t){return w(a,t,"error on tag deletion")}))}},Ve={state:Ie,getters:Je,mutations:He,actions:Ge},We=Ne.a.create({baseURL:A()}),Xe=We,Ye={authToken:null,user:{}},Ze={isAuthenticated:function(t){return null!==t.authToken},user:function(t){return t.user},userCategories:function(t){return t.user.categories},userTags:function(t){return t.user.tags}},ta={authUser:function(t,e){t.authToken=e,t.userErrorMessage=null},clearUserData:function(t){t.authToken=null,t.user={},t.userErrorMessage=null},userProfile:function(t,e){t.user=e}},ea={checkUserAuth:function(t){var e=t.commit,a=t.dispatch;window.localStorage.authToken&&(e("authUser",window.localStorage.authToken),a("getUserProfile"))},getUserProfile:function(t){var e=t.commit;De.get("auth/profile").then((function(t){return"success"===t.data.status?e("userProfile",t.data.user):w(e,null)})).catch((function(t){return w(e,t)}))},loginOrRegister:function(t,e){var a=t.commit,r=t.dispatch;Xe.post("/auth/".concat(e.actionType),e.formData).then((function(t){if("success"===t.data.status){var e=t.data.auth_token;return window.localStorage.setItem("authToken",e),a("authUser",e),a("setErrorMessage",""),r("getUserProfile"),na.push("/")}return w(a,null)})).catch((function(t){return w(a,t)}))},logout:function(t){var e=t.commit;e("clearArticles"),e("clearUserData"),localStorage.removeItem("authToken"),na.push("/login")},updateProfile:function(t,e){var a=t.commit;De.post("/auth/profile/edit",e).then((function(t){return"success"===t.data.status?na.push("/profile"):w(a,null)})).catch((function(t){return w(a,t)}))}},aa={state:Ye,getters:Ze,mutations:ta,actions:ea};r["a"].use(Ee["a"]);var ra=new Ee["a"].Store({state:{errorMessage:null,loading:!1,onlyNotRead:!1,onlyFavorites:!1,selectedCategory:"",selectedTags:[]},mutations:{setOnlyFavorites:function(t,e){t.onlyFavorites=e},setCategory:function(t,e){t.selectedCategory=e},setErrorMessage:function(t,e){t.errorMessage=e,t.loading=!1},setLoading:function(t,e){t.loading=e},setOnlyNotRead:function(t,e){t.onlyNotRead=e},setTags:function(t,e){t.selectedTags=e}},actions:{updateErrorMessage:function(t,e){var a=t.commit;a("setErrorMessage",e)},updateFavorites:function(t,e){var a=t.commit;a("setOnlyFavorites",e)},updateLoading:function(t,e){var a=t.commit;a("setLoading",e)},updateSelectedCategory:function(t,e){var a=t.commit;a("setCategory",e)},updateReadStatus:function(t,e){var a=t.commit;a("setOnlyNotRead",e)},updateSelectedTags:function(t,e){var a=t.commit;a("setTags",e)}},getters:{errorMessage:function(t){return t.errorMessage},loading:function(t){return t.loading},onlyFavorites:function(t){return t.onlyFavorites},onlyNotRead:function(t){return t.onlyNotRead},selectedCategory:function(t){return t.selectedCategory},selectedTags:function(t){return t.selectedTags}},modules:{articles:Le,categories:ze,tags:Ve,user:aa}});r["a"].use(v["a"]);var sa=[{path:"/",component:Kt,name:"home"},{path:"/register",component:xe,props:{actionType:"register"}},{path:"/login",component:xe,props:{actionType:"login"}},{path:"/profile",component:$e,props:{actionType:"viewProfile"}},{path:"/profile/edit",component:$e,props:{actionType:"editProfile"}},{path:"/articles/add",component:K},{path:"/articles/:id",component:yt,name:"articleDetail"},{path:"/articles/page/:page",component:Kt,name:"articlesPage"},{path:"/settings",component:ve},{path:"/settings/categories/add",component:Gt,name:"addCategory",props:{itemType:"categories"}},{path:"/settings/categories/:id/edit",component:Gt,name:"editCategory",props:{itemType:"categories"}},{path:"/settings/categories",component:ne,props:{itemType:"categories"}},{path:"/settings/tags/add",component:Gt,name:"addTag",props:{itemType:"tags"}},{path:"/settings/tags/:id/edit",component:Gt,name:"editTag",props:{itemType:"tags"}},{path:"/settings/tags",component:ne,props:{itemType:"tags"}},{path:"*",component:de}],ia=new v["a"]({mode:"history",routes:sa});ia.beforeEach((function(t,e,a){ra.dispatch("checkUserAuth").then((function(){return ra.getters.isAuthenticated&&["/login","/register"].includes(t.path)?a("/"):ra.getters.isAuthenticated||["/login","/register"].includes(t.path)?void 0:a("/login")})),a()}));var na=ia;r["a"].config.productionTip=!1,new r["a"]({el:"#app",router:na,store:ra,render:function(t){return t(h)}})},"61be":function(t,e,a){"use strict";var r=a("ee16"),s=a.n(r);s.a},"62d1":function(t,e,a){},6391:function(t,e,a){},6770:function(t,e,a){"use strict";var r=a("62d1"),s=a.n(r);s.a},7854:function(t,e,a){"use strict";var r=a("b3d8"),s=a.n(r);s.a},8337:function(t,e,a){"use strict";var r=a("29cb"),s=a.n(r);s.a},8958:function(t,e,a){"use strict";var r=a("bd3b"),s=a.n(r);s.a},9419:function(t,e,a){},9650:function(t,e,a){"use strict";var r=a("353b"),s=a.n(r);s.a},"979b":function(t,e,a){"use strict";var r=a("182b"),s=a.n(r);s.a},"97a4":function(t,e,a){},"9ebb":function(t,e,a){},b0a0:function(t,e,a){"use strict";var r=a("452c"),s=a.n(r);s.a},b3d8:function(t,e,a){},bd3b:function(t,e,a){},c063:function(t,e,a){"use strict";var r=a("4cd0"),s=a.n(r);s.a},c371:function(t,e,a){"use strict";var r=a("54a7"),s=a.n(r);s.a},c521:function(t,e,a){"use strict";var r=a("0562"),s=a.n(r);s.a},c764:function(t,e,a){"use strict";var r=a("53c3"),s=a.n(r);s.a},db9b:function(t,e,a){"use strict";var r=a("6391"),s=a.n(r);s.a},dd10:function(t,e,a){"use strict";var r=a("f4ae"),s=a.n(r);s.a},ee16:function(t,e,a){},f4ae:function(t,e,a){}});
//# sourceMappingURL=app.b08cc897.js.map