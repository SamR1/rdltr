webpackJsonp([1],{"11WV":function(t,e){},"3J9J":function(t,e){},"8OFo":function(t,e){},Cz9A:function(t,e){},Fryu:function(t,e){},GRhg:function(t,e){},M2w5:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("/5sW"),s={computed:{auth:function(){return this.$store.getters.isAuthenticated},username:function(){return this.$store.getters.user.username}},methods:{onLogout:function(){this.$store.dispatch("logout")},displayMenu:function(){var t=document.getElementById("responsive-navbar");"nav"===t.className?t.className+=" responsive":t.className="nav"}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{attrs:{id:"header"}},[r("div",{staticClass:"logo"},[r("router-link",{attrs:{to:"/"}},[t._v("\n      rdltr "),r("small",[t._v('a simple "read-it later" app')])])],1),t._v(" "),r("nav",{staticClass:"nav",attrs:{id:"responsive-navbar"},on:{click:t.displayMenu}},[r("ul",[t.auth?t._e():r("li",{staticClass:"menu"},[r("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1),t._v(" "),t.auth?t._e():r("li",{staticClass:"menu"},[r("router-link",{attrs:{to:"/login"}},[t._v("Log in")])],1),t._v(" "),t.auth?r("li",{staticClass:"user menu"},[r("router-link",{attrs:{to:"/profile"}},[t._v(t._s(t.username))])],1):t._e(),t._v(" "),t.auth?r("li",{staticClass:"menu"},[r("router-link",{attrs:{to:"/settings"}},[t._v("Settings")])],1):t._e(),t._v(" "),t.auth?r("li",{staticClass:"menu"},[r("span",{staticClass:"logout",on:{click:t.onLogout}},[t._v("Logout")])]):t._e()])]),t._v(" "),r("div",{attrs:{id:"nav-icon"},on:{click:t.displayMenu}},[r("i",{staticClass:"fa fa-bars"})])])},staticRenderFns:[]};var i={name:"app",components:{"app-header":r("VU/8")(s,n,!1,function(t){r("3J9J")},"data-v-ab834072",null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=r("VU/8")(i,o,!1,function(t){r("WgAS")},null,null).exports,u=r("/ocq"),l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["true"===t.displayLabel?r("label",[t._v("\n    Category\n  ")]):t._e(),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control",attrs:{id:"categories"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedCategory=e.target.multiple?r:r[0]},t.filterArticles]}},[t.displayLabel?t._e():r("option",{attrs:{value:""}},[t._v("All categories")]),t._v(" "),t._l(t.userCategories,function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v("\n      "+t._s(e.name)+"\n    ")])})],2)])},staticRenderFns:[]};var d=r("VU/8")({props:["displayLabel","filter"],computed:{selectedCategory:{get:function(){return this.$store.getters.selectedCategory},set:function(t){this.$store.commit("updateCategory",t)}},pagination:function(){return this.$store.getters.pagination},userCategories:function(){return this.$store.getters.userCategories}},methods:{filterArticles:function(){this.filter&&this.$store.dispatch("getArticles",{cat_id:this.selectedCategory,page:this.pagination.page})}},beforeDestroy:function(){this.$store.commit("updateCategory","")}},l,!1,function(t){r("PbMU")},"data-v-3a3209ed",null).exports,p={data:function(){return{link:""}},components:{AppCategorySelect:d},computed:{errMessage:function(){return this.$store.getters.articleErrorMessage},selectedCategory:function(){return this.$store.getters.selectedCategory}},methods:{onSubmit:function(){var t={url:this.link,category_id:this.selectedCategory};return this.$store.dispatch("addArticle",t)}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contnr",attrs:{id:"add-article"}},[r("div",{staticClass:"article-form"},[r("div",{staticClass:"title"},[t._v("Add an article")]),t._v(" "),r("hr"),t._v(" "),r("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit()}}},[r("div",{staticClass:"input"},[r("label",{attrs:{for:"link"}},[t._v("Link")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],attrs:{id:"link",required:""},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}})]),t._v(" "),r("app-category-select",{attrs:{"display-label":"true"}}),t._v(" "),t._m(0)],1),t._v(" "),t.errMessage?r("p",{staticClass:"user-error"},[t._v(t._s(t.errMessage))]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit add-article-submit"},[e("button",{attrs:{type:"submit"}},[this._v("Submit")])])}]};var g=r("VU/8")(p,m,!1,function(t){r("Cz9A")},"data-v-18ed2398",null).exports,v=r("fZjL"),f=r.n(v),h={props:{data:Array,columns:Array,filterKey:String},data:function(){var t={};return this.columns.forEach(function(e){t[e]=1}),{sortKey:"",sortOrders:t}},computed:{filteredData:function(){var t=this.sortKey?this.sortKey:"id",e=this.filterKey&&this.filterKey.toLowerCase(),r=this.sortOrders[t]||1,a=this.data;return e&&(a=a.filter(function(t){return f()(t).some(function(r){return String(t[r]).toLowerCase().indexOf(e)>-1})})),t&&(a=a.slice().sort(function(e,a){return((e=e[t])===(a=a[t])?0:e>a?1:-1)*r})),a}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},methods:{deleteItem:function(t){return this.$store.dispatch("deleteCategory",t)},sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t]}}},_={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table"},[r("thead",[r("tr",[t._l(t.columns,function(e){return r("th",{key:e,class:{active:t.sortKey===e},attrs:{scope:"col"},on:{click:function(r){t.sortBy(e)}}},[t._v("\n          "+t._s(t._f("capitalize")(e))+"\n          "),r("span",{staticClass:"arrow",class:t.sortOrders[e]>0?"asc":"dsc"})])}),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Actions")])],2)]),t._v(" "),r("tbody",t._l(t.filteredData,function(e){return r("tr",{key:e.id},[t._l(t.columns,function(a){return r("td",{key:a},[t._v("\n          "+t._s(e[a])+"\n          "),"name"===a&&e.is_default?r("span",{staticClass:"badge badge-rdltr badge-rdltr-small"},[t._v("\n            default\n          ")]):t._e()])}),t._v(" "),r("td",[r("router-link",{staticClass:"link",attrs:{to:{name:"editCategory",params:{id:e.id}}}},[r("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),t._v(" "),e.is_default?t._e():r("i",{staticClass:"fa fa-trash link",attrs:{"aria-hidden":"true"},on:{click:function(r){t.deleteItem(e.id)}}})],1)],2)}),0)])])},staticRenderFns:[]};var C={components:{AppItemsTables:r("VU/8")(h,_,!1,function(t){r("ndPe")},"data-v-03e90d8f",null).exports},computed:{userCategories:function(){return this.$store.getters.userCategories},categoryErrorMessage:function(){return this.$store.getters.categoryErrorMessage}},data:function(){return{categoriesColumns:["id","name","description"],displayAdd:!1,searchQuery:""}},beforeDestroy:function(){this.$store.commit("updateCategoryErrorMsg",null)}},y={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container container-shadow"},[r("div",{staticClass:"row"},[r("router-link",{staticClass:"btn-rdltr",attrs:{to:"/settings",tag:"button"}},[t._v("\n      Back to settings\n    ")]),t._v(" "),r("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:{name:"addCategory"}}},[t._v("\n      Add a category\n    ")])],1),t._v(" "),t.categoryErrorMessage?r("div",{staticClass:"row"},[r("p",{staticClass:"alert alert-danger"},[t._v("\n      "+t._s(t.categoryErrorMessage)+"\n    ")])]):t._e(),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"input-group"},[t._m(0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control",domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]),t._v(" "),t.userCategories?r("div",{staticClass:"row items-row"},[r("app-items-tables",{attrs:{data:t.userCategories,columns:t.categoriesColumns,"filter-key":t.searchQuery}})],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:""}},[this._v("Search")])])}]};var b=r("VU/8")(C,y,!1,function(t){r("jGwB")},"data-v-c13bd54c",null).exports,w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"rdltr-box"},[t.categoryErrorMessage&&!t.category.id?r("div",[t.categoryErrorMessage?r("p",{staticClass:"alert alert-danger"},[t._v("\n        "+t._s(t.categoryErrorMessage)+"\n      ")]):t._e(),t._v(" "),r("router-link",{staticClass:"btn-rdltr",attrs:{tag:"button",to:"/settings/categories"}},[t._v("Back to Categories")])],1):r("div",[t.categoryErrorMessage?r("p",{staticClass:"alert alert-danger"},[t._v("\n        "+t._s(t.categoryErrorMessage)+"\n      ")]):t._e(),t._v(" "),r("form",[r("div",{staticClass:"input"},[r("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.category.name,expression:"category.name"}],attrs:{id:"name",required:""},domProps:{value:t.category.name},on:{input:function(e){e.target.composing||t.$set(t.category,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input"},[r("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.category.description,expression:"category.description"}],attrs:{id:"description"},domProps:{value:t.category.description},on:{input:function(e){e.target.composing||t.$set(t.category,"description",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"submit"},[r("button",{attrs:{disabled:""===t.category.name,type:"submit"},on:{click:function(e){e.preventDefault(),t.onSubmit()}}},[t._v("\n            Submit\n          ")]),t._v(" "),r("router-link",{attrs:{tag:"button",to:"/settings/categories"}},[t._v("Cancel")])],1)])])])])},staticRenderFns:[]};var E=r("VU/8")({data:function(){return{category:{id:null,name:"",description:""}}},computed:{userCategories:function(){return this.$store.getters.userCategories},categoryErrorMessage:function(){return this.$store.getters.categoryErrorMessage}},methods:{onSubmit:function(){return this.$route.params.id?this.$store.dispatch("updateCategory",this.category):this.$store.dispatch("addCategory",this.category)}},beforeDestroy:function(){this.$store.commit("updateCategoryErrorMsg",null)},beforeMount:function(){var t=this;if(this.$route.params.id&&this.userCategories){var e=this.userCategories.filter(function(e){return e.id===t.$route.params.id});e.length>0?this.category=e[0]:this.$store.commit("updateCategoryErrorMsg","Category not found!")}}},w,!1,function(t){r("VS8R")},"data-v-00de8ded",null).exports,$={props:["articleContent"],methods:{displayContent:function(){document.getElementById("article-content").innerHTML=this.articleContent}},mounted:function(){this.displayContent()}},k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"article-content",attrs:{id:"article-content"}})},staticRenderFns:[]};var P=r("VU/8")($,k,!1,function(t){r("ipk5")},"data-v-47e6a203",null).exports,M={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",[r("div",{staticClass:"input"},[r("label",{attrs:{for:"description"}},[t._v("Comments")]),t._v(" "),t.onCommentsEdition?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comments,expression:"comments"}],attrs:{id:"description",disabled:!t.onCommentsEdition},domProps:{value:t.comments},on:{input:function(e){e.target.composing||(t.comments=e.target.value)}}}):r("p",{attrs:{id:"comments"}},[t._v(t._s(t.comments))])]),t._v(" "),t.onCommentsEdition?r("div",{staticClass:"submit"},[r("button",{attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onSubmit()}}},[t._v("\n      Submit\n    ")]),t._v(" "),r("button",{attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onCommentsEdition=!t.onCommentsEdition}}},[t._v("\n      Cancel\n    ")])]):r("div",[r("button",{staticClass:"btn-rdltr",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onCommentsEdition=!t.onCommentsEdition}}},[t._v("\n      Edit comments\n    ")])])])},staticRenderFns:[]};var A=r("VU/8")({props:["articleComments"],methods:{onSubmit:function(){var t=this;this.$store.dispatch("updateArticle",{id:this.$route.params.id,formData:{comments:this.comments}}).then(function(){t.onCommentsEdition=!1})}},data:function(){return{comments:"",onCommentsEdition:!1}},beforeMount:function(){this.comments=this.articleComments}},M,!1,function(t){r("zsMW")},"data-v-60788603",null).exports,x={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"badge badge-rdltr"},[this._v("\n  "+this._s(this.categoryName)+"\n")])},staticRenderFns:[]};var U=r("VU/8")({props:["categoryName"],computed:{categories:function(){return this.$store.getters.user.categories}}},x,!1,function(t){r("gueZ")},"data-v-5ec386d8",null).exports,S={components:{AppCategoryBadge:U,AppCategorySelect:d,AppArticleComments:A,AppArticleContent:P},computed:{article:{get:function(){return this.$store.getters.article}},articleErrorMessage:{get:function(){return this.$store.getters.articleErrorMessage}},selectedCategory:{get:function(){return this.$store.getters.selectedCategory}}},methods:{onUpdateCategory:function(){var t=this;this.$store.dispatch("updateArticle",{id:this.$route.params.id,formData:{category_id:this.selectedCategory}}).then(function(){t.onCategoryEdition=!1})},updateSelectedCategory:function(){this.$store.commit("updateCategory",this.article.category.id),this.onCategoryEdition=!this.onCategoryEdition}},data:function(){return{onCategoryEdition:!1}},created:function(){this.$store.dispatch("getArticle",this.$route.params.id)},beforeDestroy:function(){this.$store.commit("getUserArticle",{}),this.$store.commit("updateArticlesErrorMsg",null)}},N={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container",attrs:{id:"article-detail"}},[r("router-link",{staticClass:"btn-rdltr",attrs:{to:"/",tag:"button"}},[t._v("\n    Back to home\n  ")]),t._v(" "),t.articleErrorMessage?r("div",[r("p",{staticClass:"text-center"},[t._v(t._s(t.articleErrorMessage))])]):r("div",[t.onCategoryEdition?r("div",{attrs:{id:"category-update"}},[r("app-category-select",{attrs:{displayLabel:"false"}}),t._v(" "),r("div",{staticClass:"submit"},[r("button",{staticClass:"btn-rdltr",attrs:{type:"submit",disabled:""===t.selectedCategory},on:{click:t.onUpdateCategory}},[t._v("\n          Update\n        ")]),t._v(" "),r("button",{staticClass:"btn-rdltr",on:{click:function(e){t.onCategoryEdition=!t.onCategoryEdition}}},[t._v("\n          Cancel\n        ")])])],1):r("div",[t.article.category?r("app-category-badge",{attrs:{"category-name":t.article.category.name}}):t._e(),t._v(" "),r("i",{staticClass:"fa fa-pencil link",attrs:{"aria-hidden":"true"},on:{click:t.updateSelectedCategory}})],1),t._v(" "),r("h1",[t._v(t._s(t.article.title))]),t._v(" "),r("p",{staticClass:"article-link"},[t._v("Link:\n      "),r("a",{attrs:{href:t.article.url}},[t._v("\n        "+t._s(t.article.url)+"\n      ")])]),t._v(" "),t.article.content?r("app-article-content",{attrs:{"article-content":t.article.content}}):t._e(),t._v(" "),r("hr"),t._v(" "),t.article.comments?r("app-article-comments",{attrs:{"article-comments":t.article.comments}}):t._e()],1)],1)},staticRenderFns:[]};var T=r("VU/8")(S,N,!1,function(t){r("riWS")},"data-v-3f4ad811",null).exports,q={props:["article"],components:{AppCategoryBadge:U},methods:{onDeleteArticle:function(){return this.$store.dispatch("deleteArticle",this.article.id)}}},R={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-sm-6 col-md-4 col-lg-3"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("button",{staticClass:"close",attrs:{"aria-label":"Close",title:"delete artcle",type:"button"},on:{click:t.onDeleteArticle}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),r("app-category-badge",{attrs:{"category-name":t.article.category.name}}),t._v(" "),r("h5",{staticClass:"card-title"},[t._v(t._s(t.article.title))]),t._v(" "),r("p",{staticClass:"card-text"})],1),t._v(" "),r("div",{staticClass:"card-footer"},[r("router-link",{staticClass:"btn-rdltr",attrs:{to:{name:"articleDetail",params:{id:t.article.id}},tag:"button"}},[t._v("\n        Read\n      ")])],1)])])},staticRenderFns:[]};var D={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",attrs:{id:"pagination"}},[r("div",{staticClass:"col-1 text-center"},[r("router-link",{directives:[{name:"show",rawName:"v-show",value:t.pagination.has_prev,expression:"pagination.has_prev"}],staticClass:"btn-rdltr",attrs:{to:{name:"articlesPage",params:{page:t.pagination.page-1}},tag:"button",type:"submit"}},[r("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}})])],1),t._v(" "),t.pagination.pages>0?r("div",{staticClass:"col-10 text-center page"},[t._v("\n    page "+t._s(t.pagination.page)+" / "+t._s(t.pagination.pages)+"\n  ")]):t._e(),t._v(" "),r("div",{staticClass:"col-1 text-center"},[r("router-link",{directives:[{name:"show",rawName:"v-show",value:t.pagination.has_next,expression:"pagination.has_next"}],staticClass:"btn-rdltr",attrs:{to:{name:"articlesPage",params:{page:t.pagination.page+1}},tag:"button",type:"submit"}},[r("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])],1)])},staticRenderFns:[]};var V={computed:{articleErrorMessage:{get:function(){return this.$store.getters.articleErrorMessage}},articles:{get:function(){return this.$store.getters.articles}},pagination:{get:function(){return this.$store.getters.pagination}}},components:{AppArticleCard:r("VU/8")(q,R,!1,function(t){r("YwAr")},"data-v-63c0034d",null).exports,AppPagination:r("VU/8")({computed:{pagination:{get:function(){return this.$store.getters.pagination}}}},D,!1,function(t){r("Fryu")},"data-v-2c477ce8",null).exports},watch:{$route:function(t,e){this.$store.dispatch("getArticles",t.params)}},created:function(){this.$store.dispatch("getArticles",this.$route.params)}},F={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"user-articles"}},[t.articleErrorMessage?r("div",[r("p",{staticClass:"text-center"},[t._v(t._s(t.articleErrorMessage))])]):r("div",[t.pagination.total>0?r("div",{staticClass:"row articles-msg"},[t._v("\n      "+t._s(t.pagination.total)+" "+t._s("article"+(1!==t.pagination.total?"s":""))+"\n    ")]):t._e(),t._v(" "),r("div",{staticClass:"row"},[0===t.articles.length?r("p",{staticClass:"text-center articles-msg"},[t._v("\n        No articles. Add\n        "),r("router-link",{attrs:{to:"/articles/add"}},[t._v("one")]),t._v("\n        !\n      ")],1):t._e(),t._v(" "),t._l(t.articles,function(t){return r("app-article-card",{key:t.id,attrs:{article:t}})})],2)]),t._v(" "),r("app-pagination")],1)},staticRenderFns:[]};var L={components:{AppArticles:r("VU/8")(V,F,!1,function(t){r("u0xx")},"data-v-4dce26c6",null).exports,AppCategorySelect:d},computed:{query:{get:function(){return this.$store.getters.query},set:function(t){this.$store.commit("updateQuery",t)}}},methods:{onSearch:function(){this.$store.dispatch("getArticles",{query:this.query})}}},B={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid",attrs:{id:"home"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"row",attrs:{id:"user-categories"}},[r("div",{staticClass:"col-md-3"},[r("app-category-select",{attrs:{filter:"true"}})],1),t._v(" "),r("div",{staticClass:"col search"},[r("div",{staticClass:"input-group"},[t._m(0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{placeholder:"enter keywords"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.onSearch]}})])]),t._v(" "),r("div",{staticClass:"col-md-1"},[r("router-link",{staticClass:"btn-rdltr",attrs:{to:"/articles/add",tag:"button",title:"add article",type:"submit"}},[r("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}})])],1)])])]),t._v(" "),r("hr"),t._v(" "),r("div",{staticClass:"row"},[r("app-articles")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:""}},[this._v("Search")])])}]};var O=r("VU/8")(L,B,!1,function(t){r("11WV")},"data-v-2ad796aa",null).exports,Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"not-found"},[e("div",{staticClass:"test"},[e("p",[this._v("Page not found!")]),this._v(" "),e("br"),this._v(" "),e("router-link",{staticClass:"btn-rdltr",attrs:{to:"/",tag:"button"}},[this._v("\n      Back to home\n    ")])],1)])},staticRenderFns:[]};var W=r("VU/8")(null,Q,!1,function(t){r("8OFo")},"data-v-5fd7a99d",null).exports,z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contnr",attrs:{id:"actionType"}},[e("div",{staticClass:"rdltr-box"},[e("router-link",{staticClass:"btn-rdltr btn-rdltr-auto",attrs:{tag:"button",to:"/settings/categories"}},[this._v("Categories")])],1)])},staticRenderFns:[]};var I=r("VU/8")({},z,!1,function(t){r("QrPV")},"data-v-5b0934da",null).exports,K={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contnr",attrs:{id:"actionType"}},[r("div",{staticClass:"rdltr-box"},[r("form",[r("div",{staticClass:"input"},[r("label",{attrs:{for:"username"}},[t._v("Username")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{id:"username",disabled:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input"},[r("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],attrs:{type:"email",id:"email",disabled:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input"},[r("label",{attrs:{for:"email"}},[t._v("Inscription date")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.created_at,expression:"user.created_at"}],attrs:{id:"creationDate",disabled:""},domProps:{value:t.user.created_at},on:{input:function(e){e.target.composing||t.$set(t.user,"created_at",e.target.value)}}})]),t._v(" "),"editProfile"===t.actionType?r("div",{staticClass:"input"},[r("label",{attrs:{for:"password"}},[t._v("Old password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],attrs:{type:"password",id:"oldPassword",required:""},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})]):t._e(),t._v(" "),"editProfile"===t.actionType?r("div",{staticClass:"input"},[r("label",{attrs:{for:"password"}},[t._v("New password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"password",id:"password",required:""},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]):t._e(),t._v(" "),"editProfile"===t.actionType?r("div",{staticClass:"input"},[r("label",{attrs:{for:"confirm-password"}},[t._v("Confirm New Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],attrs:{type:"password",id:"confirm-password",required:""},domProps:{value:t.confirmNewPassword},on:{input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}})]):t._e(),t._v(" "),"editProfile"===t.actionType?r("div",{staticClass:"submit"},[r("button",{attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.onSubmit()}}},[t._v("Submit")]),t._v(" "),r("router-link",{staticClass:"cancel",attrs:{to:"/profile",tag:"button"}},[t._v("Cancel")])],1):r("div",{staticClass:"submit"},[r("router-link",{attrs:{to:"/profile/edit",tag:"button"}},[t._v("Change password")])],1)]),t._v(" "),t.errMessage?r("p",{staticClass:"rdltr-error"},[t._v(t._s(t.errMessage))]):t._e()])])},staticRenderFns:[]};var j=r("VU/8")({props:["actionType"],data:function(){return{oldPassword:"",newPassword:"",confirmNewPassword:""}},computed:{errMessage:function(){return this.$store.getters.userErrorMessage},user:function(){return this.$store.getters.user}},methods:{onSubmit:function(){var t=this,e={old_password:this.oldPassword,new_password:this.newPassword,new_password_conf:this.confirmNewPassword};this.$store.dispatch("updateProfile",e).then(function(){t.oldPassword="",t.newPassword="",t.confirmNewPassword=""})}}},K,!1,function(t){r("M2w5")},"data-v-5a2c53ca",null).exports,J={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contnr",attrs:{id:"actionType"}},[r("div",{staticClass:"rdltr-box"},[r("form",{on:{submit:function(e){e.preventDefault(),t.onSubmit(t.actionType)}}},["register"===t.actionType?r("div",{staticClass:"input"},[r("label",{attrs:{for:"username"}},[t._v("Username")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{id:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]):t._e(),t._v(" "),r("div",{staticClass:"input"},[r("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"input"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),"register"===t.actionType?r("div",{staticClass:"input"},[r("label",{attrs:{for:"confirm-password"}},[t._v("Confirm Password")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",id:"confirm-password",required:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]):t._e(),t._v(" "),t._m(0)]),t._v(" "),t.errMessage?r("p",{staticClass:"rdltr-error"},[t._v(t._s(t.errMessage))]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"submit"},[e("button",{attrs:{type:"submit"}},[this._v("Submit")])])}]};var G=r("VU/8")({props:["actionType"],data:function(){return{username:"",email:"",password:"",confirmPassword:""}},computed:{errMessage:function(){return this.$store.getters.userErrorMessage}},methods:{onSubmit:function(t){var e={email:this.email,password:this.password};return"register"===t&&(e.username=this.username,e.password_conf=this.confirmPassword),this.$store.dispatch("loginOrRegister",{actionType:t,formData:e})}}},J,!1,function(t){r("GRhg")},"data-v-574846cf",null).exports,H=r("NYxO"),Y=r("//Fk"),Z=r.n(Y),X=r("mtWM"),tt=r.n(X),et=tt.a.create({baseURL:"http://localhost:5000/api"});et.interceptors.request.use(function(t){if(lt.state.user.authToken){var e="Bearer "+lt.state.user.authToken;t.headers.Authorization!==e&&(t.headers.Authorization="Bearer "+lt.state.user.authToken)}return t},function(t){return Z.a.reject(t)});var rt=et,at=function(t,e,r){return e.response?t("updateArticlesErrorMsg",e.response.data.message):t("updateArticlesErrorMsg",e.message?e.message:r)},st={state:{article:{},articles:[],pagination:{},query:"",articleErrorMessage:null},getters:{article:function(t){return t.article},articles:function(t){return t.articles},articleErrorMessage:function(t){return t.articleErrorMessage},pagination:function(t){return t.pagination},query:function(t){return t.query}},mutations:{updateArticlesErrorMsg:function(t,e){t.articleErrorMessage=e},updateQuery:function(t,e){t.query=e},getUserArticle:function(t,e){t.article=e},getUserArticles:function(t,e){t.articles=e.data,t.pagination=e.pagination}},actions:{getArticle:function(t,e){var r=t.commit;rt.get("articles/"+e).then(function(t){"success"===t.data.status&&r("getUserArticle",t.data.data[0])}).catch(function(t){return at(r,t,"error on articles fetch")})},getArticles:function(t,e){var r=t.commit,a=(t.dispatch,t.rootState),s=t.state,n="articles";f()(e).length>0&&(n+="?",e.page&&(n+="&page="+e.page),e.cat_id?n+="&cat_id="+e.cat_id:+a.selectedCategory>0&&(n+="&cat_id="+a.selectedCategory),e.query?n+="&q="+e.query:""!==s.query&&(n+="&q="+s.query)),rt.get(n).then(function(t){if("success"===t.data.status){if(t.data.pagination.pages>0&&t.data.pagination.page>t.data.pagination.pages)return mt.replace("/articles/page/"+t.data.pagination.pages);r("getUserArticles",t.data)}}).catch(function(t){return at(r,t,"error on articles fetch")})},addArticle:function(t,e){var r=t.commit;rt.post("articles",e).then(function(t){"success"===t.data.status&&mt.replace("/")}).catch(function(t){return at(r,t,"error on article add")})},updateArticle:function(t,e){var r=t.commit;rt.patch("articles/"+e.id,e.formData).then(function(t){"success"===t.data.status&&r("getUserArticle",t.data.data[0])}).catch(function(t){return at(r,t,"error on article update")})},deleteArticle:function(t,e){var r=t.commit,a=t.dispatch,s=t.state;rt.delete("articles/"+e).then(function(t){204===t.status&&a("getArticles",{page:s.pagination.page})}).catch(function(t){return at(r,t,"error on article deletion")})}}},nt=function(t,e,r){return e.response?t("updateCategoryErrorMsg",e.response.data.message):t("updateCategoryErrorMsg",e.message?e.message:r)},it={state:{categories:[],categoryErrorMessage:null},getters:{categoryErrorMessage:function(t){return t.categoryErrorMessage}},mutations:{updateCategoryErrorMsg:function(t,e){t.categoryErrorMessage=e}},actions:{addCategory:function(t,e){var r=t.commit;t.rootState;rt.post("categories",e).then(function(){mt.replace("/settings/categories")}).catch(function(t){return nt(r,t,"error on category creation")})},updateCategory:function(t,e){var r=t.commit;t.rootState;rt.patch("categories/"+e.id,e).then(function(){mt.replace("/settings/categories")}).catch(function(t){return nt(r,t,"error on category update")})},deleteCategory:function(t,e){var r=t.commit,a=t.dispatch;t.state;rt.delete("categories/"+e).then(function(t){204===t.status&&a("getUserProfile")}).catch(function(t){return nt(r,t,"error on category deletion")})}}},ot=tt.a.create({baseURL:"http://localhost:5000/api"}),ct=function(t,e,r){return e.response?t("updateErrorMsg",e.response.data.message):t("updateErrorMsg",e.message?e.message:r)},ut={state:{authToken:null,user:{},userErrorMessage:null},getters:{isAuthenticated:function(t){return null!==t.authToken},user:function(t){return t.user},userCategories:function(t){return t.user.categories},userErrorMessage:function(t){return t.userErrorMessage}},mutations:{authUser:function(t,e){t.authToken=e,t.userErrorMessage=null},clearUserData:function(t,e){t.authToken=null,t.user={},t.userErrorMessage=null},updateErrorMsg:function(t,e){t.userErrorMessage=e},userProfile:function(t,e){t.user=e}},actions:{checkUserAuth:function(t){var e=t.commit,r=t.dispatch;window.localStorage.authToken&&(e("authUser",window.localStorage.authToken),r("getUserProfile"))},getUserProfile:function(t){var e=t.commit;rt.get("auth/profile").then(function(t){"success"===t.data.status&&e("userProfile",t.data.user)}).catch(function(t){return ct(e,t,"error on profile")})},loginOrRegister:function(t,e){var r=t.commit,a=t.dispatch;ot.post("/auth/"+e.actionType,e.formData).then(function(t){if("success"===t.data.status){var e=t.data.auth_token;window.localStorage.setItem("authToken",e),r("authUser",e),r("updateErrorMsg",""),a("getUserProfile"),mt.replace("/")}}).catch(function(t){return ct(r,t,"error on "+e.actionType)})},logout:function(t){(0,t.commit)("clearUserData"),localStorage.removeItem("authToken"),mt.replace("/login")},updateProfile:function(t,e){var r=t.commit;rt.post("/auth/profile/edit",e).then(function(t){"success"===t.data.status&&mt.replace("/profile")}).catch(function(t){return ct(r,t,"error on password update")})}}};a.a.use(H.a);var lt=new H.a.Store({state:{selectedCategory:""},mutations:{updateCategory:function(t,e){t.selectedCategory=e}},actions:{updateSelectedCategory:function(t,e){(0,t.commit)("updateCategory",e)}},getters:{selectedCategory:function(t){return t.selectedCategory}},modules:{articles:st,categories:it,user:ut}});function dt(t,e,r){lt.dispatch("checkUserAuth").then(function(){return lt.getters.isAuthenticated&&["/login","/register"].includes(t.path)?r("/"):lt.getters.isAuthenticated||["/login","/register"].includes(t.path)?void 0:r("/login")}),r()}a.a.use(u.a);var pt=[{path:"/",component:O,beforeEnter:dt},{path:"/register",component:G,props:{actionType:"register"},beforeEnter:dt},{path:"/login",component:G,props:{actionType:"login"},beforeEnter:dt},{path:"/profile",component:j,props:{actionType:"viewProfile"},beforeEnter:dt},{path:"/profile/edit",component:j,props:{actionType:"editProfile"},beforeEnter:dt},{path:"/articles/add",component:g,beforeEnter:dt},{path:"/articles/:id",component:T,name:"articleDetail",beforeEnter:dt},{path:"/articles/page/:page",component:O,name:"articlesPage",beforeEnter:dt},{path:"/settings",component:I,beforeEnter:dt},{path:"/settings/categories/add",component:E,name:"addCategory",beforeEnter:dt},{path:"/settings/categories/:id",component:E,name:"editCategory",beforeEnter:dt},{path:"/settings/categories",component:b,beforeEnter:dt},{path:"*",component:W}],mt=new u.a({mode:"history",routes:pt});a.a.config.productionTip=!1,new a.a({el:"#app",router:mt,store:lt,render:function(t){return t(c)}})},PbMU:function(t,e){},QrPV:function(t,e){},VS8R:function(t,e){},WgAS:function(t,e){},YwAr:function(t,e){},gueZ:function(t,e){},ipk5:function(t,e){},jGwB:function(t,e){},ndPe:function(t,e){},riWS:function(t,e){},u0xx:function(t,e){},zsMW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e69987a0535faad064e8.js.map